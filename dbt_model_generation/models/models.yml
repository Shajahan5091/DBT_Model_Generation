version: 2

models:
  - name: DimCustomer
    description: Customer dimension table containing customer details and location information
    columns:
      - name: customer_id
        description: Unique identifier for each customer
      - name: full_name
        description: Customer's full name concatenated from first and last name
      - name: email
        description: Customer's email address
      - name: phone
        description: Customer's phone number
      - name: city
        description: Customer's city location
      - name: state
        description: Customer's state location
      - name: country
        description: Customer's country location
      - name: is_current
        description: Flag indicating if customer is active based on creation date within last 2 years

  - name: DimProduct
    description: Product dimension table containing product details and pricing information
    columns:
      - name: product_id
        description: Unique identifier for each product
      - name: product_name
        description: Name of the product
      - name: brand
        description: Brand name of the product
      - name: category_name
        description: Product category name
      - name: current_unit_price
        description: Current unit price after applying discounts
      - name: active_flag
        description: Flag indicating if product is active based on inventory availability

  - name: FactInventorySnapshot
    description: Daily snapshot of inventory levels across warehouses
    columns:
      - name: snapshot_date
        description: Date of the inventory snapshot
      - name: product_id
        description: Product identifier
      - name: warehouse_id
        description: Warehouse identifier
      - name: quantity_on_hand
        description: Available quantity in the warehouse

  - name: FactPayment
    description: Payment transaction fact table
    columns:
      - name: order_id
        description: Order identifier for the payment
      - name: payment_method
        description: Method used for payment
      - name: amount_paid
        description: Total amount paid
      - name: payment_date
        description: Date when payment was made

  - name: FactReturns
    description: Product returns fact table
    columns:
      - name: return_date
        description: Date when product was returned
      - name: order_line_id
        description: Order line item identifier
      - name: product_id
        description: Product identifier for returned item
      - name: return_reason
        description: Reason for product return

  - name: FactSales
    description: Sales transaction fact table with order and financial details
    columns:
      - name: order_date
        description: Date when order was placed
      - name: customer_id
        description: Customer identifier
      - name: product_id
        description: Product identifier
      - name: order_id
        description: Order identifier
      - name: order_line_id
        description: Order line item identifier
      - name: quantity_sold
        description: Quantity of products sold
      - name: gross_amount
        description: Gross sales amount before discounts
      - name: discount_amount
        description: Total discount amount applied
      - name: net_amount
        description: Net sales amount after discounts

  - name: FactShipment
    description: Shipment tracking fact table
    columns:
      - name: order_id
        description: Order identifier for the shipment
      - name: shipped_date
        description: Date when order was shipped
      - name: delivery_date
        description: Date when order was delivered
      - name: status
        description: Current shipment status