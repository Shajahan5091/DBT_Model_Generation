version: 2

models:
  - name: DimCustomer
    description: Customer dimension table containing customer details and location information
    columns:
      - name: customer_id
        description: Unique identifier for each customer
      - name: full_name
        description: Customer's full name concatenated from first and last name
      - name: email
        description: Customer's email address
      - name: phone
        description: Customer's phone number
      - name: city
        description: Customer's city location
      - name: state
        description: Customer's state location
      - name: country
        description: Customer's country location
      - name: is_current
        description: Flag indicating if customer is active based on creation date within last 2 years

  - name: DimProduct
    description: Product dimension table containing product details and pricing information
    columns:
      - name: product_id
        description: Unique identifier for each product
      - name: product_name
        description: Name of the product
      - name: brand
        description: Brand name of the product
      - name: category_name
        description: Product category name
      - name: current_unit_price
        description: Current unit price after applying discount percentage
      - name: active_flag
        description: Flag indicating if product is active based on quantity availability

  - name: FactInventorySnapshot
    description: Fact table capturing daily inventory snapshots by product and warehouse
    columns:
      - name: snapshot_date
        description: Date of the inventory snapshot
      - name: product_id
        description: Unique identifier for the product
      - name: warehouse_id
        description: Unique identifier for the warehouse
      - name: quantity_on_hand
        description: Quantity of product available in the warehouse

  - name: FactPayment
    description: Fact table containing payment transaction details
    columns:
      - name: order_id
        description: Unique identifier for the order
      - name: payment_method
        description: Method used for payment
      - name: amount_paid
        description: Total amount paid for the order
      - name: payment_date
        description: Date when payment was made

  - name: FactReturns
    description: Fact table containing product return information
    columns:
      - name: return_date
        description: Date when product was returned
      - name: order_line_id
        description: Unique identifier for the order line item
      - name: product_id
        description: Unique identifier for the returned product
      - name: return_reason
        description: Reason provided for the product return

  - name: FactSales
    description: Fact table containing sales transaction details with calculated amounts
    columns:
      - name: order_date
        description: Date when the order was placed
      - name: customer_id
        description: Unique identifier for the customer
      - name: product_id
        description: Unique identifier for the product
      - name: order_id
        description: Unique identifier for the order
      - name: order_line_id
        description: Unique identifier for the order line item
      - name: quantity_sold
        description: Quantity of product sold
      - name: gross_amount
        description: Gross sales amount before discount
      - name: discount_amount
        description: Total discount amount applied
      - name: net_amount
        description: Net sales amount after discount

  - name: FactShipment
    description: Fact table containing shipment and delivery information
    columns:
      - name: order_id
        description: Unique identifier for the order
      - name: shipped_date
        description: Date when the order was shipped
      - name: delivery_date
        description: Date when the order was delivered
      - name: status
        description: Current status of the shipment